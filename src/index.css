@import "tailwindcss";

/* 字体定义 */
@font-face {
  font-family: "MiSansVF";
  src: url("./assets/fonts/MiSansVF_gb2312.woff2") format("woff2");
  font-weight: 100 900;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: "MapleMono";
  src: url("./assets/fonts/MapleMono-Subset.woff2") format("woff2");
  font-weight: normal;
  font-style: normal;
  font-display: swap;
}

@theme {
  --font-sans: "MiSansVF", system-ui, -apple-system, sans-serif;
  --font-mono: "MapleMono", monospace;

  /* --- 品牌色控制中心 --- */
  /* 修改这里即可全局改变亮/暗模式下的 UI 品牌色 */
  --brand-primary-light: #0284c7;
  --brand-primary-dark: #38bdf8;

  /* Logo 专属配色 - 保持经典的靛蓝+点缀黄 */
  --logo-primary: #4f46e5;
  --logo-accent: #ffd166;
  /* ---------------------- */

  /* 主题原始值定义 */
  --light-surface: var(--color-zinc-50);
  --light-text: var(--color-zinc-800);
  --light-border: var(--color-zinc-200);
  --light-glass: color-mix(in srgb, white 80%, transparent);

  --dark-surface: var(--color-zinc-900);
  --dark-text: var(--color-zinc-200);
  --dark-border: var(--color-zinc-800);
  --dark-glass: color-mix(in srgb, var(--color-zinc-800) 80%, transparent);

  /* 基础语义变量 - 默认为亮色模式 */
  --color-surface: var(--light-surface);
  --color-text-main: var(--light-text);
  --color-text-muted: var(--color-zinc-500);
  --color-border-subtle: var(--light-border);
  --color-glass-surface: var(--light-glass);
  --color-glass-border: color-mix(in srgb, white 50%, transparent);
  --color-brand-primary: var(--brand-primary-light);
  --paper-brightness: 1;

  /* 其他品牌辅助色 */
  --color-brand-secondary: var(--color-blue-500);
  --blur-glass: 12px;
}

/* 1. 自动跟随系统的暗色模式 */
@media (prefers-color-scheme: dark) {
  :root {
    color-scheme: dark;
    --color-surface: var(--dark-surface);
    --color-text-main: var(--dark-text);
    --color-text-muted: var(--color-zinc-400);
    --color-border-subtle: var(--dark-border);
    --color-glass-surface: var(--dark-glass);
    --color-glass-border: color-mix(in srgb, white 8%, transparent);
    --color-brand-primary: var(--brand-primary-dark);
    --paper-brightness: 0.9;
  }
}

/* 2. 手动模式强制覆盖 (放在后面确保优先级) */
:root[data-theme="light"] {
  color-scheme: light;
  --color-surface: var(--light-surface);
  --color-text-main: var(--light-text);
  --color-text-muted: var(--color-zinc-500);
  --color-border-subtle: var(--light-border);
  --color-glass-surface: var(--light-glass);
  --color-glass-border: color-mix(in srgb, white 50%, transparent);
  --color-brand-primary: var(--brand-primary-light);
  --paper-brightness: 1;
}

:root[data-theme="dark"] {
  color-scheme: dark;
  --color-surface: var(--dark-surface);
  --color-text-main: var(--dark-text);
  --color-text-muted: var(--color-zinc-400);
  --color-border-subtle: var(--dark-border);
  --color-glass-surface: var(--dark-glass);
  --color-glass-border: color-mix(in srgb, white 8%, transparent);
  --color-brand-primary: var(--brand-primary-dark);
  --paper-brightness: 0.9;
}

@utility glass-panel {
  background-color: var(--color-glass-surface);
  backdrop-filter: blur(var(--blur-glass));
  border: 1px solid var(--color-glass-border);
}

@utility input-base {
  background-color: color-mix(in srgb, var(--color-surface) 50%, transparent);
  border: 1px solid var(--color-border-subtle);
  border-radius: var(--radius-lg);
  transition-property: all;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  transition-duration: 200ms;
  box-shadow: var(--shadow-sm);
}

@utility input-base-focus {
  outline: none;
  border-color: var(--color-brand-primary);
  box-shadow: 0 0 0 1px var(--color-brand-primary);
}

/* LabelPilot 字标样式 */
@utility labelpilot-logotype {
  font-weight: 600;
  letter-spacing: -0.02em;
  color: var(--color-text-main);
  display: flex;
  align-items: baseline;
}

@utility p-special {
  position: relative;
  display: inline-block;
  color: var(--logo-primary);

  &::after {
    content: "";
    position: absolute;
    bottom: 20%;
    right: -15%;
    width: 25%;
    height: 25%;
    background: var(--logo-accent);
    border-radius: 1px;
    transform: rotate(45deg);
  }

  &::before {
    content: "";
    position: absolute;
    bottom: 0px;
    left: 10%;
    width: 70%;
    height: 8%;
    background: var(--logo-primary);
    border-radius: 1px;
    opacity: 0.6;
  }
}

@layer base {
  body {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    transition-property:
      color, background-color, border-color, text-decoration-color, fill, stroke;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
    transition-duration: 300ms;
    background-color: var(--color-surface);
    color: var(--color-text-main);
    font-family: var(--font-sans);
  }
}
